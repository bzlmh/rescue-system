(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8db17824"],{"3e25":function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return d}));var n=a("f891"),i={RescueList:"/scenePic"};function s(t){return Object(n["a"])({url:i.RescueList+"/getPicByRescueId/page",method:"post",data:t})}function r(t){return Object(n["a"])({url:i.RescueList+"/deletePicById/"+"".concat(t),method:"delete"})}function d(t){return Object(n["a"])({url:i.RescueList+"/getPicByRescueId/"+"".concat(t),method:"get"})}},"64c3":function(t,e,a){"use strict";a("84f8")},"84f8":function(t,e,a){},b31a:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"e",(function(){return r})),a.d(e,"d",(function(){return d}));var n=[{title:"紧急联系人姓名",dataIndex:"name",width:140},{title:"紧急联系人电话",dataIndex:"mobile",width:140},{title:"事故车数量",dataIndex:"numVehicles",width:110},{title:"里程桩号",dataIndex:"mileagePile",width:120},{title:"路线方向",dataIndex:"lineDirection",width:140,scopedSlots:{customRender:"lineDirection"}},{title:"经纬度坐标",dataIndex:"coordinates",width:220},{title:"车牌号",dataIndex:"plateNumber",width:130},{title:"注意事项",dataIndex:"atten",width:151},{title:"事故时间",dataIndex:"time",width:315},{title:"现场照片",dataIndex:"rescueId",width:100,fixed:"right",scopedSlots:{customRender:"scenepictures"}},{title:"状态",dataIndex:"status",width:100,fixed:"right",scopedSlots:{customRender:"status"}},{title:"操作",dataIndex:"operation",width:130,fixed:"right",scopedSlots:{customRender:"operation"}}],i=[{title:"桩号",dataIndex:"mileId",width:50},{title:"经纬度",dataIndex:"coordinates",width:90},{title:"路线方向",dataIndex:"lineDirection",width:100,scopedSlots:{customRender:"lineDirection"}},{title:"二维码图片",dataIndex:"qrcode",width:120,scopedSlots:{customRender:"qrcode"}},{title:"操作",dataIndex:"operation",width:200,scopedSlots:{customRender:"operation"}}],s=[{title:"救援id",dataIndex:"rescueId",width:150},{title:"事故图片",dataIndex:"url",width:120,scopedSlots:{customRender:"url"}},{title:"操作",dataIndex:"operation",width:200,scopedSlots:{customRender:"operation"}}],r=[{title:"账号",dataIndex:"userName",width:150},{title:"密码",dataIndex:"password",width:120,scopedSlots:{customRender:"password"}},{title:"注册时间",dataIndex:"createDate",width:200},{title:"最后登录时间",dataIndex:"lastLoginDate",width:200},{title:"身份",dataIndex:"identity",width:120,scopedSlots:{customRender:"identity"}},{title:"操作",dataIndex:"operation",width:200,scopedSlots:{customRender:"operation"}}],d=[{title:"操作账号",dataIndex:"username",width:150},{title:"操作",dataIndex:"operation",width:120},{title:"操作接口",dataIndex:"method",width:200},{title:"ip地址",dataIndex:"ip",width:200},{title:"操作时间",dataIndex:"createDate",width:120}]},c079:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",[a("div",[a("BreadList",{attrs:{list:["事故数据管理","事故图片管理"]}}),a("div",{staticClass:"search-group",staticStyle:{"margin-left":"-10%"}},[a("div",{staticClass:"search-item"},[a("span",{staticClass:"search-text"},[t._v("救援编号:")]),a("a-input",{staticStyle:{width:"300px"},attrs:{type:"text",placeholder:"可根据救援编号查询"},model:{value:t.page.params.rescueId,callback:function(e){t.$set(t.page.params,"rescueId",e)},expression:"page.params.rescueId"}})],1),a("div",{staticClass:"search-item"},[a("a-button",{attrs:{type:"primary",icon:"search"},on:{click:t.searchBySelect}},[t._v(" Search ")])],1)]),a("a-divider"),a("a-table",{attrs:{rowKey:"id",pagination:!1,columns:t.columns,"data-source":t.page.list,scroll:{x:300,y:560}},scopedSlots:t._u([{key:"url",fn:function(t){return[a("img",{attrs:{src:t}})]}},{key:"operation",fn:function(e,n){return[a("a-space",[a("a-popconfirm",{attrs:{title:"你确定要删除这条数据嘛？","ok-text":"是的","cancel-text":"不，点错了"},on:{confirm:function(e){return t.handlePicDelete(n.id)}}},[a("a-button",{attrs:{type:"danger"}},[t._v(" 删 除")])],1)],1)]}}])}),a("br"),a("a-button",{staticStyle:{float:"left","margin-top":"15px"},attrs:{type:"primary"}},[t._v("总条数："+t._s(t.page.totalCount))]),a("a-pagination",{attrs:{"page-size-options":["5","10","20","50"],total:t.page.totalCount,"show-size-changer":"","page-size":t.page.pageSize},on:{showSizeChange:t.onSizeChange,change:t.onPageChange},model:{value:t.page.currentPage,callback:function(e){t.$set(t.page,"currentPage",e)},expression:"page.currentPage"}})],1)])},i=[],s=a("1da1"),r=(a("96cf"),a("3e25")),d=a("b31a"),c={name:"Materials",data:function(){return{loading:!0,confirmLoading:!1,page:{currentPage:1,pageSize:5,totalPage:0,totalCount:0,params:{rescueId:""},list:[],sortColumn:"",sortMethod:""},columns:d["c"]}},created:function(){this.getPicList()},methods:{handlePicDelete:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(r["a"])(t);case 2:n=a.sent,i=n.data,e.$message.success(i.msg),e.getPicList();case 6:case"end":return a.stop()}}),a)})))()},searchBySelect:function(){this.getPicList()},getPicList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.page),e.next=3,Object(r["c"])(t.page);case 3:a=e.sent,n=a.data,console.log(n),t.page.list=n.data.list,t.page.totalCount=n.data.totalCount,t.loading=!1,t.$message.success(n.msg);case 10:case"end":return e.stop()}}),e)})))()},onPageChange:function(t){this.page.currentPage=t,this.getPicList()},onSizeChange:function(t,e){this.page.pageSize=e,this.getPicList()}},mounted:function(){this.page.params.rescueId=this.$route.query.rescueId}},o=c,u=(a("64c3"),a("2877")),l=Object(u["a"])(o,n,i,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-8db17824.65a672ca.js.map